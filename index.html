<!doctype html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>–û—Ü–µ–Ω–∫–∞ —Ä–∏—Å–∫–∞ –≤–∞—Ä–∏–∫–æ–∑–Ω–æ–π –±–æ–ª–µ–∑–Ω–∏ - –î–æ–∫—Ç–æ—Ä –ö–æ–±–∏–ª–±–µ–∫–æ–≤ –ë.</title>
<meta name="color-scheme" content="light">
<style>
  :root{
    --brand:#0A66C2;
    --ok:#16A34A;
    --warn:#F59E0B;
    --bad:#DC2626;
    --page:linear-gradient(135deg, #F6F8FC 0%, #E8F2FF 100%);
    --panel:#fff;
    --text:#0F172A;
    --muted:#64748B;
    --line:#E6ECF5;
    --radius:20px;
    --shadow:0 20px 60px rgba(2,8,23,.08), 0 8px 25px rgba(2,8,23,.05);
    --shadow-hover:0 25px 80px rgba(2,8,23,.12), 0 12px 35px rgba(2,8,23,.08);
    --wrap:980px;
    --gradient-brand:linear-gradient(135deg, var(--brand) 0%, #3B82F6 100%);
    --gradient-success:linear-gradient(135deg, var(--ok) 0%, #22C55E 100%);
    --gradient-warning:linear-gradient(135deg, var(--warn) 0%, #FBBF24 100%);
    --gradient-danger:linear-gradient(135deg, var(--bad) 0%, #EF4444 100%);
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  @keyframes fadeInUp {
    from { opacity:0; transform:translateY(30px) }
    to { opacity:1; transform:translateY(0) }
  }
  @keyframes pulse {
    0%, 100% { transform:scale(1) }
    50% { transform:scale(1.05) }
  }
  @keyframes slideInLeft {
    from { opacity:0; transform:translateX(-30px) }
    to { opacity:1; transform:translateX(0) }
  }
  
  body{
    margin:0; 
    font:16px/1.6 -apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;
    color:var(--text); 
    background:var(--page);
    min-height:100vh;
    animation:fadeInUp 0.8s ease-out;
  }
  
  .wrap{
    max-width:var(--wrap); 
    margin:0 auto; 
    padding:20px; 
    padding-bottom:140px;
  }
  
  .head{
    display:flex; 
    align-items:center; 
    gap:16px; 
    margin:12px 0 24px;
    animation:slideInLeft 0.6s ease-out;
  }
  
  .logo{
    width:52px; 
    height:52px; 
    display:grid; 
    place-items:center; 
    color:#fff; 
    font-weight:800;
    font-size:18px;
    background:var(--gradient-brand); 
    border-radius:16px; 
    box-shadow:var(--shadow);
    transition:all 0.3s cubic-bezier(0.4,0,0.2,1);
    position:relative;
    overflow:hidden;
  }
  
  .logo::before{
    content:'';
    position:absolute;
    inset:0;
    background:linear-gradient(45deg, transparent, rgba(255,255,255,0.2), transparent);
    transform:translateX(-100%);
    transition:transform 0.6s;
  }
  
  .logo:hover{
    transform:translateY(-2px);
    box-shadow:var(--shadow-hover);
    animation:pulse 0.6s ease-in-out;
  }
  
  .logo:hover::before{
    transform:translateX(100%);
  }
  h1{
    font-size:28px; 
    margin:0; 
    font-weight:700;
    background:var(--gradient-brand);
    -webkit-background-clip:text;
    -webkit-text-fill-color:transparent;
    background-clip:text;
  }
  
  .sub{
    color:var(--muted); 
    font-size:15px; 
    margin-top:6px;
    line-height:1.5;
  }
  
  .card{
    background:var(--panel); 
    border-radius:var(--radius); 
    box-shadow:var(--shadow);
    padding:24px; 
    margin:20px 0;
    border:1px solid var(--line);
    transition:all 0.3s cubic-bezier(0.4,0,0.2,1);
    position:relative;
    overflow:hidden;
    animation:fadeInUp 0.6s ease-out;
  }
  
  .card::before{
    content:'';
    position:absolute;
    top:0;
    left:0;
    right:0;
    height:4px;
    background:var(--gradient-brand);
    transform:scaleX(0);
    transition:transform 0.3s ease;
  }
  
  .card:hover{
    transform:translateY(-4px);
    box-shadow:var(--shadow-hover);
  }
  
  .card:hover::before{
    transform:scaleX(1);
  }
  .card h2{font-size:18px; margin:0 0 10px}
  .grid{display:grid; gap:10px}
  @media(min-width:720px){ .grid.two{grid-template-columns:1fr 1fr} }
  .row{display:flex; align-items:center; justify-content:space-between; gap:10px; padding:10px 12px; border:1px solid var(--line); border-radius:12px}
  .row label{font-size:15px}
  .muted{color:var(--muted)}
  .hint{font-size:13px; color:var(--muted); margin-top:8px}
  .radio3{display:flex; gap:6px}
  .radio3 .opt{
    position:relative; display:inline-flex; align-items:center; justify-content:center;
    min-width:34px; height:34px; padding:0 10px; border-radius:10px; border:1px solid var(--line);
    background:#fafbff; cursor:pointer; user-select:none; font-size:13px;
  }
  .radio3 input{position:absolute; inset:0; opacity:0; pointer-events:none}
  .radio3 input:checked + .opt{border-color:var(--brand); outline:2px solid color-mix(in srgb, var(--brand) 25%, transparent)}
  .checkline{display:flex; align-items:center; gap:10px}
  .checkline input[type="checkbox"]{width:18px; height:18px}
  .num{display:flex; align-items:center; gap:8px}
  .num input[type="number"], .sel{
    width:100%; padding:10px 12px; border:1px solid var(--line); border-radius:12px; background:#fff; font-size:15px;
  }
  .badge{display:inline-flex; align-items:center; gap:8px; padding:6px 10px; border-radius:999px; font-size:13px; font-weight:600}
  .b-low{background:#ECFDF5; color:var(--ok); border:1px solid #BAE6D3}
  .b-mid{background:#FFFBEB; color:#B45309; border:1px solid #FDE68A}
  .b-high{background:#FEF2F2; color:var(--bad); border:1px solid #FECACA}
  .bar{height:12px; background:#EEF2FF; border-radius:999px; overflow:hidden; border:1px solid var(--line)}
  .bar > b{display:block; height:100%; width:0%; background:linear-gradient(90deg,#93C5FD,var(--brand)); transition:width .4s}
  .actions{
    position:fixed; left:0; right:0; bottom:0; padding:12px 14px; background:rgba(255,255,255,.75);
    backdrop-filter:blur(8px); border-top:1px solid var(--line);
  }
  .actions .inner{max-width:var(--wrap); margin:0 auto; display:flex; gap:10px}
  .btn{
    appearance:none; 
    border:none; 
    border-radius:16px; 
    padding:14px 20px; 
    font-weight:700; 
    cursor:pointer;
    background:var(--gradient-brand); 
    color:#fff; 
    box-shadow:var(--shadow);
    transition:all 0.3s cubic-bezier(0.4,0,0.2,1);
    position:relative;
    overflow:hidden;
    font-size:15px;
  }
  
  .btn::before{
    content:'';
    position:absolute;
    inset:0;
    background:linear-gradient(45deg, transparent, rgba(255,255,255,0.2), transparent);
    transform:translateX(-100%);
    transition:transform 0.6s;
  }
  
  .btn:hover{
    transform:translateY(-2px);
    box-shadow:var(--shadow-hover);
  }
  
  .btn:hover::before{
    transform:translateX(100%);
  }
  
  .btn:active{
    transform:translateY(0);
  }
  
  .btn.secondary{
    background:#fff; 
    color:var(--text); 
    border:2px solid var(--line);
  }
  
  .btn.secondary:hover{
    border-color:var(--brand);
    color:var(--brand);
  }
  
  .btn.warn{
    background:var(--gradient-danger);
  }
  .res h3{margin:6px 0 8px}
  .list{margin:8px 0 0; padding-left:18px}
  .callout{
    border:1px solid #FECACA; background:#FEF2F2; color:#991B1B; padding:12px; border-radius:12px; font-size:14px
  }
  details{border:1px dashed var(--line); border-radius:12px; padding:10px 12px}
  details summary{cursor:pointer; font-weight:600}
  .doctor-card{
    background:linear-gradient(135deg, #fff 0%, #f8faff 100%);
    border:2px solid var(--brand);
  }
  
  .doctor-info{
    display:flex;
    gap:20px;
    align-items:center;
  }
  
  .doctor-avatar{
    position:relative;
    width:80px;
    height:80px;
    border-radius:50%;
    overflow:hidden;
    box-shadow:var(--shadow);
  }
  
  .doctor-avatar img{
    width:100%;
    height:100%;
    object-fit:cover;
  }
  
  .avatar-placeholder{
    width:100%;
    height:100%;
    background:var(--gradient-brand);
    display:flex;
    align-items:center;
    justify-content:center;
    color:#fff;
    font-weight:700;
    font-size:24px;
  }
  
  .doctor-details h3{
    margin:0 0 8px;
    font-size:22px;
    color:var(--brand);
    font-weight:700;
  }
  
  .doctor-title{
    font-weight:600;
    color:var(--text);
    margin-bottom:8px;
    font-size:16px;
  }
  
  .doctor-experience{
    color:var(--muted);
    margin-bottom:12px;
    line-height:1.5;
  }
  
  .doctor-contact{
    display:flex;
    flex-direction:column;
    gap:6px;
  }
  
  .contact-item{
    font-size:14px;
    color:var(--muted);
    display:flex;
    align-items:center;
    gap:8px;
  }
  
  .contact-card{
    background:linear-gradient(135deg, #f8faff 0%, #fff 100%);
    border:2px solid var(--ok);
  }
  
  .contact-intro p{
    color:var(--muted);
    margin:0 0 20px;
    line-height:1.6;
  }
  
  .contact-form{
    display:flex;
    flex-direction:column;
    gap:20px;
  }
  
  .form-row{
    display:grid;
    grid-template-columns:1fr 1fr;
    gap:16px;
  }
  
  .form-field{
    display:flex;
    flex-direction:column;
    gap:8px;
  }
  
  .field-label{
    font-weight:600;
    color:var(--text);
    font-size:14px;
  }
  
  .form-field input,
  .form-field select,
  .form-field textarea{
    padding:12px 16px;
    border:2px solid var(--line);
    border-radius:12px;
    font-size:15px;
    transition:all 0.3s ease;
    background:#fff;
  }
  
  .form-field input:focus,
  .form-field select:focus,
  .form-field textarea:focus{
    outline:none;
    border-color:var(--brand);
    box-shadow:0 0 0 3px rgba(10,102,194,0.1);
  }
  
  .form-field textarea{
    resize:vertical;
    font-family:inherit;
    line-height:1.5;
  }
  
  .form-actions{
    display:flex;
    gap:12px;
    margin-top:8px;
  }
  
  @media (max-width: 600px) {
    .form-row{
      grid-template-columns:1fr;
    }
    
    .form-actions{
      flex-direction:column;
    }
  }
  
  .footer{margin:14px 0; color:var(--muted); font-size:12px}
  
  @media (max-width: 600px) {
    .doctor-info{
      flex-direction:column;
      text-align:center;
    }
    
    .doctor-avatar{
      width:100px;
      height:100px;
    }
    
    .btn{
      font-size:14px;
      padding:12px 16px;
    }
    
    .actions .inner{
      flex-wrap:wrap;
    }
  }
  
  @media print{
    .actions{display:none}
    body{background:#fff}
    .wrap{padding-bottom:0}
  }
</style>
</head>
<body>
  <div class="wrap">
    <div class="head">
      <div class="logo">KB</div>
      <div>
        <h1>–û—Ü–µ–Ω–∫–∞ —Ä–∏—Å–∫–∞ –≤–∞—Ä–∏–∫–æ–∑–Ω–æ–π –±–æ–ª–µ–∑–Ω–∏</h1>
        <div class="sub">–û—Ç–º–µ—Ç—å—Ç–µ —Å–∏–º–ø—Ç–æ–º—ã –∏ —Ñ–∞–∫—Ç–æ—Ä—ã. –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –Ω–µ —Å—Ç–∞–≤–∏—Ç –¥–∏–∞–≥–Ω–æ–∑ –∏ –Ω–µ –∑–∞–º–µ–Ω—è–µ—Ç –æ—á–Ω—É—é –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é.</div>
      </div>
    </div>

    <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤—Ä–∞—á–µ -->
    <div class="card doctor-card">
      <div class="doctor-info">
        <div class="doctor-avatar">
          <img src="http://ipovszrt.tj/wp-content/uploads/2023/03/Kobilbekov-Bakhodur-scaled.jpg" alt="–î–æ–∫—Ç–æ—Ä –ö–æ–±–∏–ª–±–µ–∫–æ–≤ –ë–∞—Ö–æ–¥—É—Ä" onerror="this.style.display='none'; this.nextElementSibling.style.display='flex'">
          <div class="avatar-placeholder" style="display:none">
            <span>KB</span>
          </div>
        </div>
        <div class="doctor-details">
          <h3>–î–æ–∫—Ç–æ—Ä –ö–æ–±–∏–ª–±–µ–∫–æ–≤ –ë–∞—Ö–æ–¥—É—Ä</h3>
          <div class="doctor-title">–°–æ—Å—É–¥–∏—Å—Ç—ã–π —Ö–∏—Ä—É—Ä–≥, —Ñ–ª–µ–±–æ–ª–æ–≥</div>
          <div class="doctor-experience">–°–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –ª–µ—á–µ–Ω–∏–∏ –≤–∞—Ä–∏–∫–æ–∑–Ω–æ–π –±–æ–ª–µ–∑–Ω–∏ –∏ –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏–π –≤–µ–Ω–æ–∑–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã</div>
          <div class="doctor-contact">
            <span class="contact-item">üìû –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è –ø–æ –∑–∞–ø–∏—Å–∏</span>
            <span class="contact-item">üè• –ö–ª–∏–Ω–∏–∫–∞ —Å–æ—Å—É–¥–∏—Å—Ç–æ–π —Ö–∏—Ä—É—Ä–≥–∏–∏</span>
          </div>
        </div>
      </div>
    </div>

    <!-- –ü—Ä–æ—Ñ–∏–ª—å -->
    <div class="card">
      <h2>1) –û–±—â–∏–µ –¥–∞–Ω–Ω—ã–µ</h2>
      <div class="grid two">
        <div class="row">
          <label class="num" style="width:100%">
            <span>–í–æ–∑—Ä–∞—Å—Ç</span>
            <input id="age" type="number" min="10" max="100" step="1" placeholder="–Ω–∞–ø—Ä–∏–º–µ—Ä, 38">
          </label>
        </div>
        <div class="row">
          <label style="width:100%">
            <div class="muted" style="margin-bottom:6px">–ü–æ–ª</div>
            <select id="sex" class="sel">
              <option value="unknown">–ù–µ —É–∫–∞–∑—ã–≤–∞—Ç—å</option>
              <option value="female">–ñ–µ–Ω—Å–∫–∏–π</option>
              <option value="male">–ú—É–∂—Å–∫–æ–π</option>
            </select>
          </label>
        </div>
      </div>
      <div class="hint">–í–æ–∑—Ä–∞—Å—Ç –≤–ª–∏—è–µ—Ç –Ω–∞ —Ä–∞—Å—á—ë—Ç –±–∞–ª–ª–æ–≤ (45‚Äì59 –ª–µ—Ç: +1; ‚â•60 –ª–µ—Ç: +2).</div>
    </div>

    <!-- –°–∏–º–ø—Ç–æ–º—ã -->
    <div class="card">
      <h2>2) –°–∏–º–ø—Ç–æ–º—ã (—Å—É–±—ä–µ–∫—Ç–∏–≤–Ω—ã–µ)</h2>
      <div id="symptoms"></div>
      <div class="hint">–û—Ü–µ–Ω–∏—Ç–µ, –Ω–∞—Å–∫–æ–ª—å–∫–æ —á–∞—Å—Ç–æ –≤–∞—Å –±–µ—Å–ø–æ–∫–æ–∏—Ç –∫–∞–∂–¥—ã–π —Å–∏–º–ø—Ç–æ–º: ¬´–ù–µ—Ç¬ª, ¬´–ò–Ω–æ–≥–¥–∞¬ª, ¬´–ß–∞—Å—Ç–æ¬ª.</div>
    </div>

    <!-- –ü—Ä–∏–∑–Ω–∞–∫–∏ -->
    <div class="card">
      <h2>3) –ü—Ä–∏–∑–Ω–∞–∫–∏ (–æ–±—ä–µ–∫—Ç–∏–≤–Ω—ã–µ)</h2>
      <div id="signs"></div>
      <div class="hint">¬´–ò–Ω–æ–≥–¥–∞¬ª —Å—á–∏—Ç–∞–µ—Ç—Å—è –∫–∞–∫ –ø–æ–ª–æ–≤–∏–Ω–Ω—ã–π –±–∞–ª–ª, ¬´–ß–∞—Å—Ç–æ/–≤—ã—Ä–∞–∂–µ–Ω–æ¬ª ‚Äî –∫–∞–∫ –ø–æ–ª–Ω—ã–π.</div>
    </div>

    <!-- –§–∞–∫—Ç–æ—Ä—ã —Ä–∏—Å–∫–∞ -->
    <div class="card">
      <h2>4) –§–∞–∫—Ç–æ—Ä—ã —Ä–∏—Å–∫–∞</h2>
      <div id="factors" class="grid"></div>
      <div class="hint">–ú–æ–∂–Ω–æ –æ—Ç–º–µ—Ç–∏—Ç—å —Å—Ä–∞–∑—É –Ω–µ—Å–∫–æ–ª—å–∫–æ. –î–ª—è –±–µ—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç–∏/–≥–æ—Ä–º–æ–Ω–æ–≤ –≤—ã–±–æ—Ä –ø–æ–ª–∞ –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª–µ–Ω.</div>
    </div>

    <!-- –ö—Ä–∞—Å–Ω—ã–µ —Ñ–ª–∞–≥–∏ -->
    <div class="card">
      <h2>5) –°—Ä–æ—á–Ω–æ –∫ –≤—Ä–∞—á—É, –µ—Å–ª–∏ –æ—Ç–º–µ—á–∞–µ—Ç—Å—è:</h2>
      <div id="redflags" class="grid"></div>
      <div class="hint">–ü—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ —ç—Ç–∏—Ö –ø—Ä–∏–∑–Ω–∞–∫–æ–≤ –Ω—É–∂–Ω–æ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∑–∞ –Ω–µ–æ—Ç–ª–æ–∂–Ω–æ–π –ø–æ–º–æ—â—å—é (–≤—ã–∑–æ–≤ —Å–∫–æ—Ä–æ–π/ER).</div>
    </div>

    <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç -->
    <div id="result" class="card res" style="display:none">
      <h2>–ò—Ç–æ–≥–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞</h2>
      <div id="urgent" class="callout" style="display:none"></div>

      <div id="okblock" style="display:none">
        <div style="display:flex; align-items:center; justify-content:space-between; gap:10px">
          <div id="badge" class="badge b-low">–ù–∏–∑–∫–∞—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å</div>
          <div style="min-width:160px; width:40%">
            <div class="bar"><b id="bar" style="width:0%"></b></div>
            <div class="muted" style="font-size:12px;margin-top:4px">–ò–Ω–¥–µ–∫—Å –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏: <span id="scoreLabel">0/20</span></div>
          </div>
        </div>

        <h3>–ß—Ç–æ —ç—Ç–æ –∑–Ω–∞—á–∏—Ç</h3>
        <div id="meaning" class="muted"></div>

        <h3>–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Å–æ–≤–µ—Ç—ã</h3>
        <ul id="advice" class="list"></ul>

        <details style="margin-top:10px">
          <summary>–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ —Ä–∞—Å—á—ë—Ç–∞</summary>
          <div id="details" style="margin-top:8px; font-size:14px"></div>
        </details>

        <div class="footer">‚ö†Ô∏è –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –Ω–æ—Å–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–π —Ö–∞—Ä–∞–∫—Ç–µ—Ä –∏ –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–º –¥–∏–∞–≥–Ω–æ–∑–æ–º. –ü—Ä–∏ —Å—Ç–æ–π–∫–∏—Ö –∏–ª–∏ –Ω–∞—Ä–∞—Å—Ç–∞—é—â–∏—Ö —Å–∏–º–ø—Ç–æ–º–∞—Ö –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –≤—Ä–∞—á—É (—Ñ–ª–µ–±–æ–ª–æ–≥/—Å–æ—Å—É–¥–∏—Å—Ç—ã–π —Ö–∏—Ä—É—Ä–≥). –î–ª—è —É—Ç–æ—á–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ–∫–∞–∑–∞–Ω–æ –£–ó–ò –≤–µ–Ω (–¥—É–ø–ª–µ–∫—Å-—Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ).</div>
      </div>
    </div>

    <!-- –§–æ—Ä–º–∞ –¥–ª—è —Å–≤—è–∑–∏ -->
    <div id="contactForm" class="card contact-card" style="display:none">
      <h2>–ó–∞–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—é</h2>
      <div class="contact-intro">
        <p>–ï—Å–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –æ—Ü–µ–Ω–∫–∏ –ø–æ–∫–∞–∑–∞–ª —Å—Ä–µ–¥–Ω—é—é –∏–ª–∏ –≤—ã—Å–æ–∫—É—é –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤–∞—Ä–∏–∫–æ–∑–Ω–æ–π –±–æ–ª–µ–∑–Ω–∏, —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞.</p>
      </div>
      
      <form class="contact-form" onsubmit="submitContactForm(event)">
        <div class="form-row">
          <label class="form-field">
            <span class="field-label">–ò–º—è *</span>
            <input type="text" name="name" required placeholder="–í–∞—à–µ –∏–º—è">
          </label>
          <label class="form-field">
            <span class="field-label">–¢–µ–ª–µ—Ñ–æ–Ω *</span>
            <input type="tel" name="phone" required placeholder="+7 (___) ___-__-__">
          </label>
        </div>
        
        <label class="form-field">
          <span class="field-label">Email</span>
          <input type="email" name="email" placeholder="example@mail.com">
        </label>
        
        <label class="form-field">
          <span class="field-label">–ü—Ä–µ–¥–ø–æ—á—Ç–∏—Ç–µ–ª—å–Ω–æ–µ –≤—Ä–µ–º—è –¥–ª—è –∑–≤–æ–Ω–∫–∞</span>
          <select name="time">
            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –≤—Ä–µ–º—è</option>
            <option value="morning">–£—Ç—Ä–æ–º (9:00-12:00)</option>
            <option value="afternoon">–î–Ω–µ–º (12:00-17:00)</option>
            <option value="evening">–í–µ—á–µ—Ä–æ–º (17:00-20:00)</option>
          </select>
        </label>
        
        <label class="form-field">
          <span class="field-label">–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</span>
          <textarea name="message" rows="4" placeholder="–û–ø–∏—à–∏—Ç–µ –≤–∞—à–∏ —Å–∏–º–ø—Ç–æ–º—ã –∏–ª–∏ –≤–æ–ø—Ä–æ—Å—ã..."></textarea>
        </label>
        
        <div class="form-actions">
          <button type="submit" class="btn">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É</button>
          <button type="button" class="btn secondary" onclick="hideContactForm()">–û—Ç–º–µ–Ω–∞</button>
        </div>
      </form>
    </div>
  </div>

  <!-- –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–Ω–æ–ø–∫–∏ -->
  <div class="actions">
    <div class="inner">
      <button class="btn" onclick="calculate()">–†–∞—Å—Å—á–∏—Ç–∞—Ç—å</button>
      <button class="btn secondary" onclick="resetAll()">–°–±—Ä–æ—Å–∏—Ç—å</button>
      <button class="btn secondary" onclick="showContactForm()" id="consultBtn" style="display:none">ü©∫ –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è</button>
      <button class="btn secondary" onclick="copyConclusion()">–°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∑–∞–∫–ª—é—á–µ–Ω–∏–µ</button>
      <button class="btn secondary" onclick="window.print()">–ü–µ—á–∞—Ç—å / PDF</button>
    </div>
  </div>

<script>
/* ========= –®–ê–ë–õ–û–ù–´ (–º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å/–¥–æ–±–∞–≤–ª—è—Ç—å –ø—É–Ω–∫—Ç—ã) ========= */

// 2) –°–∏–º–ø—Ç–æ–º—ã (0=–Ω–µ—Ç, 1=–∏–Ω–æ–≥–¥–∞, 2=—á–∞—Å—Ç–æ)
const SYMPTOMS = [
  {id:'heaviness', label:'–¢—è–∂–µ—Å—Ç—å/—Ä–∞—Å–ø–∏—Ä–∞–Ω–∏–µ –≤ –Ω–æ–≥–∞—Ö –∫ –≤–µ—á–µ—Ä—É'},
  {id:'ache',      label:'–ù–æ—é—â–∞—è —Ç—É–ø–∞—è –±–æ–ª—å –≤ –Ω–æ–≥–∞—Ö'},
  {id:'cramps',    label:'–ù–æ—á–Ω—ã–µ —Å—É–¥–æ—Ä–æ–≥–∏ –≥–æ–ª–µ–Ω–µ–π/—Å—Ç–æ–ø'},
  {id:'itch',      label:'–ó—É–¥ –∫–æ–∂–∏ –≥–æ–ª–µ–Ω–µ–π'},
  {id:'restless',  label:'–ë–µ—Å–ø–æ–∫–æ–π–Ω—ã–µ –Ω–æ–≥–∏'},
  {id:'worse',     label:'–•—É–∂–µ –ø–æ—Å–ª–µ –¥–ª–∏—Ç–µ–ª—å–Ω–æ–≥–æ —Å—Ç–æ—è–Ω–∏—è/—Å–∏–¥–µ–Ω–∏—è'},
  {id:'better',    label:'–û–±–ª–µ–≥—á–µ–Ω–∏–µ –ø—Ä–∏ –ø–æ–¥—ä—ë–º–µ –Ω–æ–≥/–∫–æ–º–ø—Ä–µ—Å—Å–∏–∏'}
];

// 3) –ü—Ä–∏–∑–Ω–∞–∫–∏ (0=–Ω–µ—Ç, 1=–∏–Ω–æ–≥–¥–∞ (0.5 –≤–µ—Å–∞), 2=—á–∞—Å—Ç–æ/–≤—ã—Ä–∞–∂–µ–Ω–æ (1 –≤–µ—Å–∞))
const SIGNS = [
  {id:'visible', label:'–í–∏–¥–∏–º—ã–µ –∏–∑–≤–∏—Ç—ã–µ –≤–µ–Ω—ã / —Å–æ—Å—É–¥–∏—Å—Ç—ã–µ –∑–≤—ë–∑–¥–æ—á–∫–∏', weight:3},
  {id:'edema',   label:'–û—Ç—ë–∫ –ª–æ–¥—ã–∂–µ–∫/–≥–æ–ª–µ–Ω–µ–π –∫ –≤–µ—á–µ—Ä—É',               weight:2},
  {id:'skin',    label:'–ü–æ—Ç–µ–º–Ω–µ–Ω–∏–µ –∫–æ–∂–∏, —ç–∫–∑–µ–º–∞ –æ–∫–æ–ª–æ –ª–æ–¥—ã–∂–µ–∫',       weight:4},
  {id:'ulcer',   label:'–î–æ–ª–≥–æ –Ω–µ–∑–∞–∂–∏–≤–∞—é—â–∞—è —è–∑–≤–∞ –Ω–∞ –≥–æ–ª–µ–Ω–∏',           weight:6}
];

// 4) –§–∞–∫—Ç–æ—Ä—ã —Ä–∏—Å–∫–∞ (checkbox, pts)
const FACTORS = [
  {id:'family',   label:'–í–∞—Ä–∏–∫–æ–∑/—Ç—Ä–æ–º–±—ã —É –±–ª–∏–∑–∫–∏—Ö —Ä–æ–¥—Å—Ç–≤–µ–Ω–Ω–∏–∫–æ–≤', pts:2},
  {id:'standing', label:'–î–ª–∏—Ç–µ–ª—å–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å—Ç–æ—è/–Ω–∞ –Ω–æ–≥–∞—Ö',        pts:2},
  {id:'sitting',  label:'–î–ª–∏—Ç–µ–ª—å–Ω–æ–µ —Å–∏–¥–µ–Ω–∏–µ (–æ—Ñ–∏—Å, –ø–æ–µ–∑–¥–∫–∏ >2—á)',  pts:1},
  {id:'obesity',  label:'–ò–∑–±—ã—Ç–æ—á–Ω—ã–π –≤–µ—Å (–ò–ú–¢ ‚â•30)',                pts:2},
  {id:'pregnancy',label:'–ë–µ—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç—å / –ø–æ—Å–ª–µ—Ä–æ–¥–æ–≤—ã–π –ø–µ—Ä–∏–æ–¥',      pts:2},
  {id:'hormones', label:'–ì–æ—Ä–º–æ–Ω–∞–ª—å–Ω—ã–µ –∫–æ–Ω—Ç—Ä–∞—Ü–µ–ø—Ç–∏–≤—ã / –ó–ì–¢',        pts:1},
  {id:'dvt',      label:'–ü–µ—Ä–µ–Ω–µ—Å—ë–Ω–Ω—ã–π —Ç—Ä–æ–º–±–æ–∑ –≥–ª—É–±–æ–∫–∏—Ö –≤–µ–Ω',       pts:3},
  {id:'trauma',   label:'–¢—Ä–∞–≤–º–∞/–æ–ø–µ—Ä–∞—Ü–∏—è –Ω–∞ –Ω–∏–∂–Ω–∏—Ö –∫–æ–Ω–µ—á–Ω–æ—Å—Ç—è—Ö',   pts:1},
  {id:'constip',  label:'–•—Ä–æ–Ω–∏—á–µ—Å–∫–∏–µ –∑–∞–ø–æ—Ä—ã',                      pts:1},
  {id:'smoke',    label:'–ö—É—Ä–µ–Ω–∏–µ',                                 pts:1},
  {id:'lifting',  label:'–†–µ–≥—É–ª—è—Ä–Ω—ã–µ –ø–æ–¥—ä—ë–º—ã —Ç—è–∂–µ—Å—Ç–µ–π',             pts:1}
];

// 5) –ö—Ä–∞—Å–Ω—ã–µ —Ñ–ª–∞–≥–∏ (–µ—Å–ª–∏ –æ—Ç–º–µ—á–µ–Ω—ã ‚Äî –ø–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—Ä–æ—á–Ω—É—é —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—é)
const REDFLAGS = [
  {id:'oneleg', label:'–í–Ω–µ–∑–∞–ø–Ω—ã–π –æ–¥–Ω–æ—Å—Ç–æ—Ä–æ–Ω–Ω–∏–π –æ—Ç—ë–∫, –±–æ–ª—å, –ø–æ–∫—Ä–∞—Å–Ω–µ–Ω–∏–µ –∏ —Ç–µ–ø–ª–æ –≤ –≥–æ–ª–µ–Ω–∏'},
  {id:'chest',  label:'–í–Ω–µ–∑–∞–ø–Ω–∞—è –æ–¥—ã—à–∫–∞, –±–æ–ª—å –≤ –≥—Ä—É–¥–∏ –∏–ª–∏ –∫–∞—à–µ–ª—å —Å –∫—Ä–æ–≤—å—é'}
];

/* ========= –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ ========= */

function mountRadio3(container, groupId) {
  const map = [
    {val:0, text:'–ù–µ—Ç'},
    {val:1, text:'–ò–Ω–æ–≥–¥–∞'},
    {val:2, text:'–ß–∞—Å—Ç–æ'}
  ];
  const box = document.createElement('div');
  box.className = 'radio3';
  map.forEach(opt=>{
    const id = `${groupId}_${opt.val}`;
    const w = document.createElement('label');
    w.style.position='relative';
    const input = document.createElement('input');
    input.type='radio'; input.name=groupId; input.id=id; input.value=opt.val;
    const btn = document.createElement('span');
    btn.className='opt'; btn.textContent = opt.text;
    w.appendChild(input); w.appendChild(btn);
    box.appendChild(w);
  });
  container.appendChild(box);
}

function buildUI(){
  const sRoot = document.getElementById('symptoms');
  SYMPTOMS.forEach(item=>{
    const row = document.createElement('div');
    row.className='row';
    const lab = document.createElement('label'); lab.textContent = item.label;
    row.appendChild(lab);
    mountRadio3(row, 'sym_'+item.id);
    sRoot.appendChild(row);
  });

  const signRoot = document.getElementById('signs');
  SIGNS.forEach(item=>{
    const row = document.createElement('div');
    row.className='row';
    const lab = document.createElement('label'); lab.textContent = item.label;
    row.appendChild(lab);
    mountRadio3(row, 'sign_'+item.id);
    signRoot.appendChild(row);
  });

  const fRoot = document.getElementById('factors');
  FACTORS.forEach(item=>{
    const row = document.createElement('div');
    row.className='row checkline';
    const ck = document.createElement('input'); ck.type='checkbox'; ck.id='fac_'+item.id;
    const lab = document.createElement('label'); lab.htmlFor=ck.id; lab.textContent=item.label;
    row.appendChild(ck); row.appendChild(lab);
    fRoot.appendChild(row);
  });

  const rRoot = document.getElementById('redflags');
  REDFLAGS.forEach(item=>{
    const row = document.createElement('div');
    row.className='row checkline';
    const ck = document.createElement('input'); ck.type='checkbox'; ck.id='rf_'+item.id;
    const lab = document.createElement('label'); lab.htmlFor=ck.id; lab.textContent=item.label;
    row.appendChild(ck); row.appendChild(lab);
    rRoot.appendChild(row);
  });
}
buildUI();

/* ========= –†–∞—Å—á—ë—Ç ========= */

function valRadio(name, def=0){
  const r = document.querySelector(`input[name="${name}"]:checked`);
  return r ? Number(r.value) : def;
}
function isChecked(id){ return document.getElementById(id)?.checked || false }

function calculate(){
  // –ö—Ä–∞—Å–Ω—ã–µ —Ñ–ª–∞–≥–∏?
  const rf_any = REDFLAGS.some(r => isChecked('rf_'+r.id));

  const age = Number(document.getElementById('age').value || 0);
  let agePts = 0;
  if (age>=60) agePts=2; else if (age>=45) agePts=1;

  // –°–∏–º–ø—Ç–æ–º—ã
  let symptomPts = 0;
  const chosenSymptoms = [];
  SYMPTOMS.forEach(s=>{
    const v = valRadio('sym_'+s.id,0);
    symptomPts += v;
    if (v>0) chosenSymptoms.push({label:s.label, pts:v});
  });

  // –ü—Ä–∏–∑–Ω–∞–∫–∏
  let signPts = 0;
  const chosenSigns = [];
  SIGNS.forEach(s=>{
    const v = valRadio('sign_'+s.id,0); // 0/1/2
    const factor = v===2 ? 1 : v===1 ? 0.5 : 0;
    const pts = s.weight * factor;
    signPts += pts;
    if (v>0) chosenSigns.push({label:s.label, pts});
  });

  // –§–∞–∫—Ç–æ—Ä—ã
  let factorPts = 0;
  const chosenFactors = [];
  FACTORS.forEach(f=>{
    if (isChecked('fac_'+f.id)){ factorPts += f.pts; chosenFactors.push({label:f.label, pts:f.pts}); }
  });
  factorPts += agePts;

  // –ò—Ç–æ–≥–æ–≤—ã–µ –∏–Ω–¥–µ–∫—Å—ã
  const presenceScore = signPts + Math.min(symptomPts, 4);  // –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –Ω–∞–ª–∏—á–∏—è –±–æ–ª–µ–∑–Ω–∏
  const totalScore = presenceScore + factorPts/2;            // –º—è–≥–∫–æ —É—á–∏—Ç—ã–≤–∞–µ–º —Ñ–æ–Ω–æ–≤—ã–µ —Ñ–∞–∫—Ç–æ—Ä—ã –≤ –∏–Ω–¥–µ–∫—Å–µ
  const presenceCat = presenceScore>=7 ? 'high' : presenceScore>=3 ? 'mid' : 'low';
  const pct = Math.max(0, Math.min(100, Math.round((presenceScore/12)*100))); // —à–∫–∞–ª–∞ 0..~12

  // –í—ã–≤–æ–¥
  const res = document.getElementById('result');
  const urgent = document.getElementById('urgent');
  const ok = document.getElementById('okblock');
  const badge = document.getElementById('badge');
  const bar = document.getElementById('bar');
  const scoreLabel = document.getElementById('scoreLabel');
  const meaning = document.getElementById('meaning');
  const advice = document.getElementById('advice');
  const details = document.getElementById('details');

  res.style.display = 'block';

  if (rf_any){
    urgent.style.display='block';
    ok.style.display='none';
    urgent.innerHTML = '–ï—Å—Ç—å –ø—Ä–∏–∑–Ω–∞–∫–∏ –≤–æ–∑–º–æ–∂–Ω–æ–≥–æ –æ—Å—Ç—Ä–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è (—Ç—Ä–æ–º–±–æ–∑/—ç–º–±–æ–ª–∏—è). –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∑–∞ –Ω–µ–æ—Ç–ª–æ–∂–Ω–æ–π –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–π –ø–æ–º–æ—â—å—é (—Å–∫–æ—Ä–∞—è/ER). –ù–µ –æ—Ç–∫–ª–∞–¥—ã–≤–∞–π—Ç–µ!';
    return;
  } else {
    urgent.style.display='none';
    ok.style.display='block';
  }

  // –ë–µ–π–¥–∂
  badge.className='badge';
  if (presenceCat==='low'){ badge.classList.add('b-low'); badge.textContent='–ù–∏–∑–∫–∞—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å'; }
  if (presenceCat==='mid'){ badge.classList.add('b-mid'); badge.textContent='–°—Ä–µ–¥–Ω—è—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å'; }
  if (presenceCat==='high'){ badge.classList.add('b-high'); badge.textContent='–í—ã—Å–æ–∫–∞—è –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å'; }

  // –ü–æ–ª–æ—Å–∫–∞
  bar.style.width = pct+'%';
  scoreLabel.textContent = `${Math.round(presenceScore)}/12`;

  // –ó–Ω–∞—á–µ–Ω–∏–µ
  if (presenceCat==='low'){
    meaning.textContent = '–°–æ–±—Ä–∞–Ω–Ω—ã–µ —Å–∏–º–ø—Ç–æ–º—ã/–ø—Ä–∏–∑–Ω–∞–∫–∏ –º–∞–ª–æ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω—ã –¥–ª—è –≤–∞—Ä–∏–∫–æ–∑–Ω–æ–π –±–æ–ª–µ–∑–Ω–∏. –ï—Å–ª–∏ –∂–∞–ª–æ–±—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è, –æ–±—Å—É–¥–∏—Ç–µ —Å –≤—Ä–∞—á–æ–º –≤–æ–∑–º–æ–∂–Ω—ã–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã (–æ—Ä—Ç–æ–ø–µ–¥–∏—á–µ—Å–∫–∏–µ, –Ω–µ–≤—Ä–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ –∏ —Ç.–¥.).';
  } else if (presenceCat==='mid'){
    meaning.textContent = '–ï—Å—Ç—å –ø—Ä–∏–∑–Ω–∞–∫–∏, —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ —Å —Ä–∞–Ω–Ω–∏–º–∏ –ø—Ä–æ—è–≤–ª–µ–Ω–∏—è–º–∏ —Ö—Ä–æ–Ω–∏—á–µ—Å–∫–æ–π –≤–µ–Ω–æ–∑–Ω–æ–π –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ—Å—Ç–∏. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è –æ–±—Ä–∞–∑–∞ –∂–∏–∑–Ω–∏ –∏, –ø–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏, –£–ó–ò –≤–µ–Ω –¥–ª—è —É—Ç–æ—á–Ω–µ–Ω–∏—è.';
  } else {
    meaning.textContent = '–í—ã—Å–æ–∫–∞ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤–∞—Ä–∏–∫–æ–∑–Ω–æ–π –±–æ–ª–µ–∑–Ω–∏/—Ö—Ä–æ–Ω–∏—á–µ—Å–∫–æ–π –≤–µ–Ω–æ–∑–Ω–æ–π –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ—Å—Ç–∏. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –æ—á–Ω–∞—è –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏—è —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–∞ (—Ñ–ª–µ–±–æ–ª–æ–≥/—Å–æ—Å—É–¥–∏—Å—Ç—ã–π —Ö–∏—Ä—É—Ä–≥) –∏ –¥—É–ø–ª–µ–∫—Å–Ω–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–µ–Ω.';
  }

  // –°–æ–≤–µ—Ç—ã (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –ø–æ –æ—Ç–º–µ—á–µ–Ω–Ω—ã–º –ø—É–Ω–∫—Ç–∞–º)
  const tips = new Set();
  // –ë–∞–∑–æ–≤—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
  tips.add('–•–æ–¥—å–±–∞ –µ–∂–µ–¥–Ω–µ–≤–Ω–æ –Ω–µ –º–µ–Ω–µ–µ 30‚Äì40 –º–∏–Ω—É—Ç; —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –¥–ª—è –∏–∫—Ä–æ–Ω–æ–∂–Ω—ã—Ö –º—ã—à—Ü (–ø–æ–¥—ä—ë–º—ã –Ω–∞ –Ω–æ—Å–∫–∏).');
  tips.add('–ü–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–π –∫–æ–º–ø—Ä–µ—Å—Å–∏–æ–Ω–Ω—ã–π —Ç—Ä–∏–∫–æ—Ç–∞–∂ (–∫–ª–∞—Å—Å 1), –æ—Å–æ–±–µ–Ω–Ω–æ –ø—Ä–∏ –Ω–∞–≥—Ä—É–∑–∫–µ/–ø–µ—Ä–µ–ª—ë—Ç–∞—Ö ‚Äî –ø–æ—Å–ª–µ –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ –≤—Ä–∞—á–∞.');
  tips.add('–û—Ç–¥—ã—Ö —Å –ø—Ä–∏–ø–æ–¥–Ω—è—Ç—ã–º–∏ –Ω–æ–≥–∞–º–∏ 10‚Äì15 –º–∏–Ω—É—Ç 1‚Äì2 —Ä–∞–∑–∞/–¥–µ–Ω—å.');
  tips.add('–ò–∑–±–µ–≥–∞–π—Ç–µ –¥–ª–∏—Ç–µ–ª—å–Ω–æ–≥–æ –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–≥–æ —Å—Ç–æ—è–Ω–∏—è/—Å–∏–¥–µ–Ω–∏—è; –∫–∞–∂–¥—ã–µ 40‚Äì60 –º–∏–Ω—É—Ç ‚Äî 2‚Äì3 –º–∏–Ω—É—Ç—ã –∞–∫—Ç–∏–≤–Ω—ã—Ö –¥–≤–∏–∂–µ–Ω–∏–π.');

  // –¢–∞—Ä–≥–µ—Ç –ø–æ —Ñ–∞–∫—Ç–æ—Ä–∞–º
  if (isChecked('fac_standing')) tips.add('–ü—Ä–∏ —Ä–∞–±–æ—Ç–µ —Å—Ç–æ—è ‚Äî –º–∏–∫—Ä–æ–ø–∞—É–∑–∏: –ø–µ—Ä–µ–∫–∞—Ç—ã —Å—Ç–æ–ø, ¬´–Ω–∞—Å–æ—Å¬ª —Å—Ç–æ–ø–æ–π, –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è —Ö–æ–¥—å–±–∞.');
  if (isChecked('fac_sitting')) tips.add('–ü—Ä–∏ —Å–∏–¥—è—á–µ–π —Ä–∞–±–æ—Ç–µ/–ø–æ–µ–∑–¥–∫–∞—Ö ‚Äî —Ä–∞–∑–º–∏–Ω–∫–∞ –∫–∞–∂–¥—ã–µ 40‚Äì60 –º–∏–Ω—É—Ç; –∫—Ä—É–≥–æ–≤—ã–µ –¥–≤–∏–∂–µ–Ω–∏—è —Å—Ç–æ–ø–∞–º–∏, –ø–µ—Ä–µ–∫–∞—Ç—ã –ø—è—Ç–∫–∞-–Ω–æ—Å–æ–∫.');
  if (isChecked('fac_obesity')) tips.add('–ö–æ–Ω—Ç—Ä–æ–ª—å –º–∞—Å—Å—ã —Ç–µ–ª–∞: –¥–µ—Ñ–∏—Ü–∏—Ç 300‚Äì500 –∫–∫–∞–ª/–¥–µ–Ω—å, –±–µ–ª–æ–∫ 1‚Äì1,2 –≥/–∫–≥, –∫–ª–µ—Ç—á–∞—Ç–∫–∞ 25‚Äì30 –≥/—Å—É—Ç.');
  if (isChecked('fac_pregnancy')) tips.add('–í–æ –≤—Ä–µ–º—è –±–µ—Ä–µ–º–µ–Ω–Ω–æ—Å—Ç–∏ ‚Äî –æ–±—Å—É–¥–∏—Ç–µ –ø–æ–¥–±–æ—Ä –∫–æ–º–ø—Ä–µ—Å—Å–∏–∏ —Å –≤—Ä–∞—á–æ–º; –∏–∑–±–µ–≥–∞–π—Ç–µ —Ç–µ–ø–ª–æ–≤—ã—Ö –ø—Ä–æ—Ü–µ–¥—É—Ä –¥–ª—è –Ω–æ–≥.');
  if (isChecked('fac_hormones')) tips.add('–ü—Ä–∏—ë–º –≥–æ—Ä–º–æ–Ω–∞–ª—å–Ω—ã—Ö –∫–æ–Ω—Ç—Ä–∞—Ü–µ–ø—Ç–∏–≤–æ–≤/–ó–ì–¢ –æ–±—Å—É–¥–∏—Ç–µ —Å –≤—Ä–∞—á–æ–º –Ω–∞ —Ñ–æ–Ω–µ –≤–µ–Ω–æ–∑–Ω—ã—Ö –∂–∞–ª–æ–±.');
  if (isChecked('fac_dvt')) tips.add('–ë—ã–ª —Ç—Ä–æ–º–±–æ–∑ –≤–µ–Ω ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –æ—á–Ω–æ –æ–±—Å—É–¥–∏—Ç–µ —Å–∏–º–ø—Ç–æ–º—ã —Å —Å–æ—Å—É–¥–∏—Å—Ç—ã–º —Ö–∏—Ä—É—Ä–≥–æ–º.');
  if (isChecked('fac_smoke')) tips.add('–û—Ç–∫–∞–∑ –æ—Ç –∫—É—Ä–µ–Ω–∏—è —Å–Ω–∏–∂–∞–µ—Ç —Å–æ—Å—É–¥–∏—Å—Ç—ã–µ —Ä–∏—Å–∫–∏ –∏ —É–ª—É—á—à–∞–µ—Ç —Å–∏–º–ø—Ç–æ–º—ã.');
  if (isChecked('fac_constip')) tips.add('–ë–æ–ª—å—à–µ –∫–ª–µ—Ç—á–∞—Ç–∫–∏ –∏ –≤–æ–¥—ã –¥–ª—è –ø—Ä–æ—Ñ–∏–ª–∞–∫—Ç–∏–∫–∏ –∑–∞–ø–æ—Ä–æ–≤ (–æ–≤–æ—â–∏, —Ü–µ–ª—å–Ω—ã–µ –∑–ª–∞–∫–∏, 1.5‚Äì2 –ª –≤–æ–¥—ã/—Å—É—Ç).');
  if (isChecked('fac_lifting')) tips.add('–ò–∑–±–µ–≥–∞–π—Ç–µ –ø–æ–¥—ä—ë–º–∞ —Ç—è–∂–µ—Å—Ç–µ–π; –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–ø—Ä–µ—Å—Å–∏—é –ø—Ä–∏ –Ω–∞–≥—Ä—É–∑–∫–µ.');
  // –¢–∞—Ä–≥–µ—Ç –ø–æ –ø—Ä–∏–∑–Ω–∞–∫–∞–º
  if (valRadio('sign_edema')>0) tips.add('–ü—Ä–∏ —Å–∫–ª–æ–Ω–Ω–æ—Å—Ç–∏ –∫ –æ—Ç—ë–∫–∞–º ‚Äî –æ–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–ª–∏—Ç–µ–ª—å–Ω–æ–µ —Å—Ç–æ—è–Ω–∏–µ, –≤–µ—á–µ—Ä–Ω—è—è —Ä–∞–∑–≥—Ä—É–∑–∫–∞ –Ω–æ–≥ –∏ –∫–æ–º–ø—Ä–µ—Å—Å–∏—è.');
  if (valRadio('sign_skin')>0 || valRadio('sign_ulcer')>0) tips.add('–ö–æ–∂–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è/—è–∑–≤—ã —Ç—Ä–µ–±—É—é—Ç –æ—á–Ω–æ–≥–æ –æ—Å–º–æ—Ç—Ä–∞ –∏ –ª–æ–∫–∞–ª—å–Ω–æ–π —Ç–µ—Ä–∞–ø–∏–∏ –ø–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—é –≤—Ä–∞—á–∞.');

  advice.innerHTML = '';
  Array.from(tips).forEach(t=>{
    const li = document.createElement('li'); li.textContent=t; advice.appendChild(li);
  });

  // –î–µ—Ç–∞–ª–∏ —Ä–∞—Å—á—ë—Ç–∞
  const reasons = []
    .concat(chosenSigns.map(o=>`‚Ä¢ –ü—Ä–∏–∑–Ω–∞–∫: ${o.label} (+${o.pts})`))
    .concat(chosenSymptoms.map(o=>`‚Ä¢ –°–∏–º–ø—Ç–æ–º: ${o.label} (+${o.pts})`))
    .concat(chosenFactors.map(o=>`‚Ä¢ –§–∞–∫—Ç–æ—Ä —Ä–∏—Å–∫–∞: ${o.label} (+${o.pts})`))
    .concat(agePts? [`‚Ä¢ –í–æ–∑—Ä–∞—Å—Ç (+${agePts})`]:[]);
  const html = `
    <div><b>–ë–∞–ª–ª—ã –ø–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º:</b></div>
    <div>–°–∏–º–ø—Ç–æ–º—ã: <b>${symptomPts}</b>; –ü—Ä–∏–∑–Ω–∞–∫–∏: <b>${signPts.toFixed(1)}</b>; –§–∞–∫—Ç–æ—Ä—ã (–≤–∫–ª—é—á–∞—è –≤–æ–∑—Ä–∞—Å—Ç): <b>${factorPts}</b></div>
    <div style="margin-top:6px"><b>–ß—Ç–æ –ø–æ–≤–ª–∏—è–ª–æ:</b><br>${reasons.length?reasons.join('<br>'):'‚Äî'}</div>
  `;
  details.innerHTML = html;

  // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–µ–∫—Å—Ç –∑–∞–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è
  window._lastConclusion = makeConclusionText({presenceCat, presenceScore, symptomPts, signPts, factorPts, tips:Array.from(tips)});
  
  // –ü–æ–∫–∞–∑–∞—Ç—å –∫–Ω–æ–ø–∫—É –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏ –¥–ª—è —Å—Ä–µ–¥–Ω–µ–π –∏ –≤—ã—Å–æ–∫–æ–π –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏
  const consultBtn = document.getElementById('consultBtn');
  if (presenceCat === 'mid' || presenceCat === 'high') {
    consultBtn.style.display = 'block';
  } else {
    consultBtn.style.display = 'none';
  }
}

function makeConclusionText({presenceCat, presenceScore, symptomPts, signPts, factorPts, tips}){
  const cat = presenceCat==='high' ? '–í—ã—Å–æ–∫–∞—è' : presenceCat==='mid' ? '–°—Ä–µ–¥–Ω—è—è' : '–ù–∏–∑–∫–∞—è';
  return [
    `–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –≤–∞—Ä–∏–∫–æ–∑–Ω–æ–π –±–æ–ª–µ–∑–Ω–∏: ${cat} (–∏–Ω–¥–µ–∫—Å ${Math.round(presenceScore)}/12).`,
    `–ë–∞–ª–ª —Å–∏–º–ø—Ç–æ–º–æ–≤: ${symptomPts}; –ø—Ä–∏–∑–Ω–∞–∫–æ–≤: ${signPts.toFixed(1)}; —Ñ–∞–∫—Ç–æ—Ä–æ–≤ —Ä–∏—Å–∫–∞ (—Å –≤–æ–∑—Ä–∞—Å—Ç–æ–º): ${factorPts}.`,
    `–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:`,
    ...tips.map(t=>`‚Äî ${t}`)
  ].join('\n');
}

function resetAll(){
  document.getElementById('age').value='';
  document.getElementById('sex').value='unknown';
  document.querySelectorAll('input[type="radio"]').forEach(i=>i.checked=false);
  document.querySelectorAll('input[type="checkbox"]').forEach(i=>i.checked=false);
  document.getElementById('result').style.display='none';
}

async function copyConclusion(){
  const text = window._lastConclusion || '–°–Ω–∞—á–∞–ª–∞ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Ä–∞—Å—á—ë—Ç.';
  try{
    await navigator.clipboard.writeText(text);
    alert('–ó–∞–∫–ª—é—á–µ–Ω–∏–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞.');
  }catch(e){
    // Fallback
    const ta = document.createElement('textarea');
    ta.value = text; document.body.appendChild(ta); ta.select();
    try{ document.execCommand('copy'); alert('–ó–∞–∫–ª—é—á–µ–Ω–∏–µ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω–æ.'); }
    catch(err){ alert('–°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤—Ä—É—á–Ω—É—é:\n\n'+text); }
    ta.remove();
  }
}

function showContactForm(){
  const form = document.getElementById('contactForm');
  form.style.display = 'block';
  form.scrollIntoView({ behavior: 'smooth', block: 'start' });
}

function hideContactForm(){
  const form = document.getElementById('contactForm');
  form.style.display = 'none';
}

function submitContactForm(event){
  event.preventDefault();
  const formData = new FormData(event.target);
  const data = Object.fromEntries(formData.entries());
  
  // –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Å–µ—Ä–≤–µ—Ä
  console.log('–î–∞–Ω–Ω—ã–µ —Ñ–æ—Ä–º—ã:', data);
  
  // –ò–º–∏—Ç–∞—Ü–∏—è –æ—Ç–ø—Ä–∞–≤–∫–∏
  const submitBtn = event.target.querySelector('button[type="submit"]');
  const originalText = submitBtn.textContent;
  submitBtn.textContent = '–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è...';
  submitBtn.disabled = true;
  
  setTimeout(() => {
    alert('–°–ø–∞—Å–∏–±–æ –∑–∞ –∑–∞—è–≤–∫—É! –ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –≤–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è.');
    hideContactForm();
    event.target.reset();
    submitBtn.textContent = originalText;
    submitBtn.disabled = false;
  }, 2000);
}

// –ú–∞—Å–∫–∞ –¥–ª—è —Ç–µ–ª–µ—Ñ–æ–Ω–∞
document.addEventListener('DOMContentLoaded', function() {
  const phoneInput = document.querySelector('input[name="phone"]');
  if (phoneInput) {
    phoneInput.addEventListener('input', function(e) {
      let value = e.target.value.replace(/\D/g, '');
      if (value.length > 0) {
        if (value[0] === '8') value = '7' + value.slice(1);
        if (value[0] !== '7') value = '7' + value;
      }
      
      let formattedValue = '';
      if (value.length > 0) formattedValue += '+7';
      if (value.length > 1) formattedValue += ' (' + value.slice(1, 4);
      if (value.length > 4) formattedValue += ') ' + value.slice(4, 7);
      if (value.length > 7) formattedValue += '-' + value.slice(7, 9);
      if (value.length > 9) formattedValue += '-' + value.slice(9, 11);
      
      e.target.value = formattedValue;
    });
  }
});
</script>
</body>
</html>
